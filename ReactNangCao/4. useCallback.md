## KhÃ¡i niá»‡m vá» tham sá»‘ vÃ  Ä‘á»‘i sá»‘:

- ğŸ‘‰ ChÃºng ta cÃ³ thá»ƒ hiá»ƒu tham sá»‘ vÃ  Ä‘á»‘i sá»‘ nhÆ° sau:

- ğŸ‘‰ Tham sá»‘ (parameter): lÃ  cÃ¡c biáº¿n Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong pháº§n khai bÃ¡o hÃ m Ä‘á»ƒ nháº­n giÃ¡ trá»‹ truyá»n vÃ o khi gá»i hÃ m. Tham sá»‘ sáº½ Ä‘á»‹nh nghÄ©a kiá»ƒu vÃ  tÃªn cá»§a cÃ¡c giÃ¡ trá»‹ Ä‘Æ°á»£c truyá»n vÃ o hÃ m.

- ğŸ‘‰ Äá»‘i sá»‘ (argument): lÃ  cÃ¡c giÃ¡ trá»‹ thá»±c táº¿ Ä‘Æ°á»£c truyá»n vÃ o hÃ m khi gá»i hÃ m. Äá»‘i sá»‘ Ä‘Æ°á»£c gÃ¡n cho cÃ¡c tham sá»‘ tÆ°Æ¡ng á»©ng trong pháº§n thÃ¢n cá»§a hÃ m.

ğŸš€ VÃ­ dá»¥: ğŸš€

```jsx
function sum(a, b) {
  // a vÃ  b lÃ  cÃ¡c tham sá»‘
  return a + b;
}

const result = sum(5, 10); // 5 vÃ  10 lÃ  cÃ¡c Ä‘á»‘i sá»‘
```

- ğŸ‘‰ Trong vÃ­ dá»¥ trÃªn, hÃ m `sum` cÃ³ hai tham sá»‘ `a` vÃ  `b`. Khi gá»i hÃ m `sum(5, 10)`, giÃ¡ trá»‹ `5` vÃ  `10` Ä‘Æ°á»£c truyá»n vÃ o hÃ m `sum` lÃ  hai Ä‘á»‘i sá»‘. Trong pháº§n thÃ¢n cá»§a hÃ m `sum`, cÃ¡c Ä‘á»‘i sá»‘ nÃ y sáº½ Ä‘Æ°á»£c gÃ¡n cho hai tham sá»‘ tÆ°Æ¡ng á»©ng, vÃ  káº¿t quáº£ tráº£ vá» lÃ  `15`.

# useCallback

ChÃºng ta dÃ¹ng `useCallback` khi chÃºng ta khÃ´ng muá»‘n function cá»§a chÃºng ta Ä‘Æ°á»£c khá»Ÿi táº¡o láº¡i má»—i láº§n component chÃºng ta re-render

```jsx
const memoizedCallback = useCallback(() => {
  doSomething(a, b);
}, [a, b]);
```

CÃ¡ch sá»­ dá»¥ng tÆ°Æ¡ng tá»± nhÆ° `useMemo`, ngoÃ i ra thÃ¬ chÃºng ta cÅ©ng cÃ³ thá»ƒ dÃ¹ng `useMemo` thay tháº¿ cho `useCallback` cÅ©ng Ä‘Æ°á»£c

```jsx
const memoizedCallback = useMemo(() => {
  return () => doSomething(a, b);
}, [a, b]);
```

## HÃ£y nÃªu khÃ¡i niá»‡m useCallback chi tiáº¿t vÃ  rÃµ rÃ ng nháº¥t:

- `useCallback` lÃ  má»™t hook cá»§a React, cho phÃ©p báº¡n táº¡o ra má»™t function callback má»›i mÃ  sáº½ khÃ´ng bá»‹ táº¡o láº¡i má»—i khi component re-render. Thay vÃ¬ táº¡o ra má»™t function callback má»›i má»—i khi component re-render, `useCallback` sáº½ tráº£ vá» má»™t function Ä‘Ã£ Ä‘Æ°á»£c lÆ°u trá»¯ trong bá»™ nhá»› vÃ  chá»‰ Ä‘Æ°á»£c táº¡o láº¡i náº¿u má»™t trong nhá»¯ng dependency cá»§a nÃ³ thay Ä‘á»•i.

- Viá»‡c sá»­ dá»¥ng `useCallback` giÃºp tá»‘i Æ°u hÃ³a hiá»‡u suáº¥t cá»§a component, Ä‘áº·c biá»‡t lÃ  trong cÃ¡c trÆ°á»ng há»£p mÃ  function callback Ä‘Æ°á»£c truyá»n vÃ o cÃ¡c component con cÃ³ dependencies phá»©c táº¡p hoáº·c Ä‘ang xá»­ lÃ½ cÃ¡c tÃ­nh toÃ¡n phá»©c táº¡p.

- Cáº¥u trÃºc cÆ¡ báº£n cá»§a `useCallback` nhÆ° sau:

```jsx
const memoizedCallback = useCallback(() => {
  // do something
}, [dependencies]);
```

- ğŸ‘‰Trong Ä‘Ã³, `dependencies` lÃ  má»™t máº£ng cÃ¡c `dependencies` mÃ  náº¿u cÃ³ sá»± thay Ä‘á»•i thÃ¬ `useCallback` sáº½ táº¡o láº¡i function má»›i. `memoizedCallback` lÃ  function callback Ä‘Ã£ Ä‘Æ°á»£c tá»‘i Æ°u hÃ³a sá»­ dá»¥ng `useCallback`.

- ğŸ‘‰ChÃº Ã½ ráº±ng, `useCallback` khÃ´ng pháº£i lÃ  giáº£i phÃ¡p cho má»i trÆ°á»ng há»£p vÃ  chá»‰ nÃªn Ä‘Æ°á»£c sá»­ dá»¥ng khi cáº§n thiáº¿t Ä‘á»ƒ tá»‘i Æ°u hÃ³a hiá»‡u suáº¥t vÃ  trÃ¡nh tÃ¬nh tráº¡ng re-render khÃ´ng cáº§n thiáº¿t cá»§a component.

## Cho tÃ´i 1 vÃ i `vÃ­ dá»¥ cÆ¡ báº£n` vÃ  `giáº£i thÃ­ch` code trong vÃ­ dá»¥ Ä‘Ã³ 1 cÃ¡ch rÃµ rÃ ng vÃ  chi tiáº¿t nháº¥t

**VÃ­ dá»¥ 1: Sá»­ dá»¥ng useCallback Ä‘á»ƒ truyá»n hÃ m xá»­ lÃ½ sá»± kiá»‡n cho child component**

```jsx
import React, { useCallback, useState } from "react";
import ChildComponent from "./ChildComponent";

function ParentComponent() {
  const [count, setCount] = useState(0);

  // táº¡o hÃ m xá»­ lÃ½ sá»± kiá»‡n tÄƒng giÃ¡ trá»‹ count
  const handleIncrement = useCallback(() => {
    setCount(count + 1);
  }, [count]);

  return (
    <div>
      <h1>Parent Component</h1>
      <p>Count: {count}</p>
      <button onClick={handleIncrement}>Increment</button>
      <ChildComponent handleIncrement={handleIncrement} />
    </div>
  );
}

export default ParentComponent;
```

- ğŸ‘‰ Äáº§u tiÃªn, chÃºng ta import hai hook tá»« thÆ° viá»‡n React: `useCallback` vÃ  `useState`. ChÃºng ta cÅ©ng import component con lÃ  `ChildComponent`.

- ğŸ‘‰Sau Ä‘Ã³, chÃºng ta khá»Ÿi táº¡o state `count` vÃ  hÃ m `setCount` sá»­ dá»¥ng `useState`(). GiÃ¡ trá»‹ ban Ä‘áº§u cá»§a `count` lÃ  0.

- ğŸ‘‰ChÃºng ta cÅ©ng sá»­ dá»¥ng `useCallback`() Ä‘á»ƒ táº¡o má»™t hÃ m xá»­ lÃ½ sá»± kiá»‡n lÃ  `handleIncrement()`. HÃ m nÃ y Ä‘Æ°á»£c gá»i má»—i khi nÃºt "Increment" Ä‘Æ°á»£c click, vÃ  nÃ³ sá»­ dá»¥ng `setCount`() Ä‘á»ƒ tÄƒng giÃ¡ trá»‹ cá»§a `count` lÃªn 1.

- ğŸ‘‰á» dÃ²ng 57, chÃºng ta thÃªm má»™t nÃºt `button` vÃ o component cha. Khi nÃºt nÃ y Ä‘Æ°á»£c click, nÃ³ sáº½ gá»i hÃ m `handleIncrement`.

- ğŸ‘‰Cuá»‘i cÃ¹ng, chÃºng ta render component con `ChildComponent`, vÃ  truyá»n hÃ m `handleIncrement` vÃ o thÃ´ng qua props. Khi component con Ä‘Æ°á»£c render, nÃ³ sáº½ nháº­n Ä‘Æ°á»£c hÃ m `handleIncrement` vÃ  cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ tÄƒng giÃ¡ trá»‹ `count` lÃªn má»—i láº§n click.

**VÃ­ dá»¥ 2: Sá»­ dá»¥ng useCallback Ä‘á»ƒ xá»­ lÃ½ tÃ¬m kiáº¿m danh sÃ¡ch phim**

```jsx
import React, { useCallback, useState } from "react";
import MovieList from "./MovieList";

function SearchBar() {
  const [searchTerm, setSearchTerm] = useState("");

  // táº¡o hÃ m xá»­ lÃ½ sá»± kiá»‡n thay Ä‘á»•i searchTerm
  const handleSearchTermChange = useCallback((event) => {
    setSearchTerm(event.target.value);
  }, []);

  return (
    <div>
      <input type="text" value={searchTerm} onChange={handleSearchTermChange} />
      <MovieList searchTerm={searchTerm} />
    </div>
  );
}

export default SearchBar;
```

- ğŸ‘‰ Trong vÃ­ dá»¥ nÃ y, chÃºng ta cÃ³ 2 component lÃ  `SearchBar` vÃ  `MovieList`. Trong `SearchBar`, chÃºng ta cÃ³ má»™t `state` lÃ  `searchTerm` vÃ  má»™t hÃ m `handleSearchTermChange` Ä‘á»ƒ xá»­ lÃ½ sá»± kiá»‡n thay Ä‘á»•i giÃ¡ trá»‹ cá»§a `searchTerm`.

- ğŸ‘‰ VÃ¬ `handleSearchTermChange` khÃ´ng phá»¥ thuá»™c vÃ o báº¥t ká»³ `state` hay `props` nÃ o khÃ¡c ngoÃ i `searchTerm`, chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng `useCallback` mÃ  khÃ´ng cáº§n truyá»n `dependencies`. Äiá»u nÃ y giÃºp tÄƒng hiá»‡u suáº¥t vÃ  giáº£m thiá»ƒu viá»‡c re-render cá»§a `SearchBar` khi khÃ´ng cáº§n thiáº¿t.

## Cho tÃ´i 1 vÃ i `vÃ­ dá»¥ nÃ¢ng cao` vÃ  `giáº£i thÃ­ch` code trong vÃ­ dá»¥ Ä‘Ã³ 1 cÃ¡ch rÃµ rÃ ng vÃ  chi tiáº¿t nháº¥t:

**VÃ­ dá»¥ 1: Sá»­ dá»¥ng useCallback() Ä‘á»ƒ trÃ¡nh rendering khÃ´ng cáº§n thiáº¿t trong component cha khi props thay Ä‘á»•i**

- ğŸ‘‰ Trong vÃ­ dá»¥ nÃ y, chÃºng ta cÃ³ má»™t component cha lÃ  `ParentComponent`, vÃ  má»™t component con lÃ  `ChildComponent`. Component cha chá»©a má»™t biáº¿n state lÃ  `name` vÃ  má»™t hÃ m xá»­ lÃ½ sá»± kiá»‡n Ä‘á»ƒ thay Ä‘á»•i giÃ¡ trá»‹ cá»§a biáº¿n nÃ y. Náº¿u giÃ¡ trá»‹ cá»§a biáº¿n `name` thay Ä‘á»•i, component cha sáº½ Ä‘Æ°á»£c render láº¡i, dÃ¹ ráº±ng giÃ¡ trá»‹ nÃ y khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng trong component cha.

- ğŸ‘‰ Äá»ƒ trÃ¡nh tÃ¬nh tráº¡ng nÃ y, chÃºng ta sá»­ dá»¥ng `useCallback()` Ä‘á»ƒ táº¡o má»™t phiÃªn báº£n má»›i cá»§a hÃ m xá»­ lÃ½ sá»± kiá»‡n chá»‰ khi biáº¿n state `name` thay Ä‘á»•i. Viá»‡c nÃ y Ä‘áº£m báº£o ráº±ng component cha chá»‰ render láº¡i khi cáº§n thiáº¿t.

```jsx
import React, { useState, useCallback } from "react";
import ChildComponent from "./ChildComponent";

function ParentComponent() {
  const [name, setName] = useState("");

  // táº¡o hÃ m xá»­ lÃ½ sá»± kiá»‡n chá»‰ khi giÃ¡ trá»‹ cá»§a biáº¿n name thay Ä‘á»•i
  const handleChangeName = useCallback(
    (event) => {
      setName(event.target.value);
    },
    [name]
  );

  return (
    <div>
      <input type="text" value={name} onChange={handleChangeName} />
      <ChildComponent />
    </div>
  );
}

export default ParentComponent;
```

- ğŸ‘‰ á» Ä‘Ã¢y, `handleChangeName` Ä‘Æ°á»£c táº¡o báº±ng cÃ¡ch sá»­ dá»¥ng `useCallback()` vá»›i má»™t máº£ng dependencies chá»©a `name`. Khi giÃ¡ trá»‹ cá»§a biáº¿n `name` thay Ä‘á»•i, `handleChangeName` sáº½ Ä‘Æ°á»£c táº¡o láº¡i, Ä‘áº£m báº£o ráº±ng component cha chá»‰ render láº¡i khi biáº¿n `name` thay Ä‘á»•i.

## VÃ­ dá»¥ 2: Sá»­ dá»¥ng `useCallback()` Ä‘á»ƒ tá»‘i Æ°u hÃ³a hiá»‡u suáº¥t khi truyá»n hÃ m xá»­ lÃ½ sá»± kiá»‡n vÃ o component con

- ğŸ‘‰ Trong vÃ­ dá»¥ nÃ y, chÃºng ta sáº½ táº¡o má»™t component cha vÃ  má»™t component con. Component cha sáº½ chá»©a má»™t danh sÃ¡ch cÃ¡c má»¥c vÃ  má»™t hÃ m xá»­ lÃ½ sá»± kiá»‡n Ä‘á»ƒ xÃ³a má»™t má»¥c khá»i danh sÃ¡ch. HÃ m xá»­ lÃ½ sá»± kiá»‡n nÃ y sáº½ Ä‘Æ°á»£c truyá»n vÃ o component con thÃ´ng qua props.

- ğŸ‘‰ Äá»ƒ tá»‘i Æ°u hÃ³a hiá»‡u suáº¥t, chÃºng ta sá»­ dá»¥ng `useCallback()` Ä‘á»ƒ táº¡o má»™t phiÃªn báº£n má»›i cá»§a hÃ m xá»­ lÃ½ sá»± kiá»‡n chá»‰ khi cáº§n thiáº¿t.

- ğŸ‘‰ Äáº§u tiÃªn, chÃºng ta táº¡o má»™t danh sÃ¡ch cÃ¡c má»¥c báº±ng cÃ¡ch sá»­ dá»¥ng `useState()`:

```jsx
import React, { useState, useCallback } from "react";
import ListItem from "./ListItem";

function ParentComponent() {
  const [items, setItems] = useState([
    { id: 1, text: "Item 1" },
    { id: 2, text: "Item 2" },
    { id: 3, text: "Item 3" },
  ]);

  // táº¡o hÃ m xá»­ lÃ½ sá»± kiá»‡n xÃ³a má»™t má»¥c khá»i danh sÃ¡ch
  const handleDeleteItem = useCallback(
    (itemId) => {
      setItems(items.filter((item) => item.id !== itemId));
    },
    [items]
  );

  return (
    <div>
      <h1>Parent Component</h1>
      <ul>
        {items.map((item) => (
          <ListItem
            key={item.id}
            item={item}
            handleDeleteItem={handleDeleteItem}
          />
        ))}
      </ul>
    </div>
  );
}

export default ParentComponent;
```

- ğŸ‘‰ Sau Ä‘Ã³, chÃºng ta táº¡o má»™t component con lÃ  `ListItem`, Ä‘á»ƒ hiá»ƒn thá»‹ thÃ´ng tin cá»§a má»™t má»¥c trong danh sÃ¡ch, cÅ©ng nhÆ° má»™t nÃºt xÃ³a Ä‘á»ƒ xÃ³a má»¥c Ä‘Ã³ khá»i danh sÃ¡ch. Component nÃ y nháº­n vÃ o hai props lÃ  item vÃ  `handleDeleteItem`.

```jsx
import React from "react";

function ListItem({ item, handleDeleteItem }) {
  return (
    <li>
      {item.text} <button onClick={() => handleDeleteItem(item.id)}>XÃ³a</button>
    </li>
  );
}

export default ListItem;
```

- ğŸ‘‰ Trong component con, chÃºng ta sá»­ dá»¥ng `props` Ä‘á»ƒ truyá»n vÃ o hÃ m xá»­ lÃ½ sá»± kiá»‡n `handleDeleteItem`. Khi ngÆ°á»i dÃ¹ng click vÃ o nÃºt "XÃ³a", hÃ m nÃ y sáº½ Ä‘Æ°á»£c gá»i, vÃ  má»¥c tÆ°Æ¡ng á»©ng sáº½ Ä‘Æ°á»£c xÃ³a khá»i danh sÃ¡ch.

- ğŸ‘‰ ChÃºng ta sá»­ dá»¥ng `useCallback()` Ä‘á»ƒ táº¡o má»™t phiÃªn báº£n má»›i cá»§a hÃ m xá»­ lÃ½ sá»± kiá»‡n chá»‰ khi danh sÃ¡ch cÃ¡c má»¥c thay Ä‘á»•i, báº±ng cÃ¡ch truyá»n items vÃ o máº£ng dependencies:

```jsx
const handleDeleteItem = useCallback(
  (itemId) => {
    setItems(items.filter((item) => item.id !== itemId));
  },
  [items]
);
```

- ğŸ‘‰ Trong vÃ­ dá»¥ nÃ y, chÃºng ta sáº½ sá»­ dá»¥ng `useCallback()` Ä‘á»ƒ tá»‘i Æ°u hÃ³a hiá»‡u suáº¥t khi truyá»n má»™t hÃ m xá»­ lÃ½ sá»± kiá»‡n vÃ o má»™t component con.

- ğŸ‘‰ Äáº§u tiÃªn, chÃºng ta sáº½ táº¡o ra má»™t component con Ä‘Æ¡n giáº£n, Ä‘Æ°á»£c gá»i lÃ  `ChildComponent`. Component nÃ y sáº½ render má»™t nÃºt `button`, vÃ  truyá»n má»™t hÃ m xá»­ lÃ½ sá»± kiá»‡n vÃ o `props`.

```jsx
import React from "react";

function ChildComponent(props) {
  return (
    <div>
      <button onClick={props.handleButtonClick}>Click me</button>
    </div>
  );
}

export default ChildComponent;
```

- ğŸ‘‰ Tiáº¿p theo, chÃºng ta sáº½ táº¡o ra component cha, Ä‘Æ°á»£c gá»i lÃ  `ParentComponent`. Component nÃ y sáº½ render `ChildComponent`, vÃ  truyá»n má»™t hÃ m xá»­ lÃ½ sá»± kiá»‡n vÃ o props cá»§a `ChildComponent`.

```jsx
import React, { useCallback } from "react";
import ChildComponent from "./ChildComponent";

function ParentComponent() {
  const handleButtonClick = useCallback(() => {
    console.log("Button clicked!");
  }, []);

  return (
    <div>
      <h1>Parent Component</h1>
      <ChildComponent handleButtonClick={handleButtonClick} />
    </div>
  );
}

export default ParentComponent;
```

- ğŸ‘‰ NhÆ° báº¡n cÃ³ thá»ƒ tháº¥y, chÃºng ta Ä‘Ã£ sá»­ dá»¥ng `useCallback()` Ä‘á»ƒ táº¡o hÃ m xá»­ lÃ½ sá»± kiá»‡n `handleButtonClick`. Äiá»u nÃ y Ä‘áº£m báº£o ráº±ng khi component cha Ä‘Æ°á»£c render láº¡i, má»™t phiÃªn báº£n má»›i cá»§a `handleButtonClick` sáº½ chá»‰ Ä‘Æ°á»£c táº¡o ra khi cáº§n thiáº¿t.

- ğŸ‘‰ Trong vÃ­ dá»¥ nÃ y, khi ngÆ°á»i dÃ¹ng click vÃ o nÃºt button trong component con, hÃ m xá»­ lÃ½ sá»± kiá»‡n `handleButtonClick` sáº½ Ä‘Æ°á»£c gá»i, vÃ  má»™t thÃ´ng bÃ¡o "Button clicked!" sáº½ Ä‘Æ°á»£c hiá»ƒn thá»‹ trong `console`.

- ğŸ‘‰ Viá»‡c sá»­ dá»¥ng `useCallback()` trong trÆ°á»ng há»£p nÃ y giÃºp tá»‘i Æ°u hÃ³a hiá»‡u suáº¥t cá»§a á»©ng dá»¥ng bá»Ÿi vÃ¬ chÃºng ta Ä‘áº£m báº£o ráº±ng hÃ m xá»­ lÃ½ sá»± kiá»‡n chá»‰ Ä‘Æ°á»£c táº¡o láº¡i khi cáº§n thiáº¿t, vÃ  khÃ´ng bá»‹ lÃ m má»›i má»—i khi component cha Ä‘Æ°á»£c render láº¡i.
